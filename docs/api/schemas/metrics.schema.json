{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://vgm2.dev/schemas/metrics.schema.json",
  "title": "Metrics Request",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "token",
    "questionId",
    "choiceId"
  ],
  "properties": {
    "token": {
      "type": "string",
      "minLength": 1
    },
    "questionId": {
      "type": "string",
      "minLength": 1
    },
    "choiceId": {
      "type": "string",
      "minLength": 1
    },
    "correct": {
      "type": "boolean"
    },
    "latencyMs": {
      "type": "integer",
      "minimum": 0
    },
    "answeredAt": {
      "type": "string",
      "format": "date-time"
    },
    "extras": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "device": {
          "type": "string"
        },
        "userAgent": {
          "type": "string"
        }
      }
    }
  },
  "description": "Server should respond with 202 Accepted and an empty body."
}