# docs/ – プロジェクトドキュメントの入口

このフォルダは **Docs-as-Code** 方針で、仕様・設計・運用ノウハウをコードと同じリポジトリで管理します。  
まずは「最初に読む」を確認し、必要な棚（フォルダ）の README を参照してください。

---

## 最初に読む（Start here）
1. **product/requirements.md** … 目的・KPI・スコープを1ページで（Lean要件）
2. **design/ui-spec.md** … 画面構成・ナビゲーション・主要コンポーネント・表の列定義
3. **api/** … API契約（エンドポイント一覧・スキーマ・エラー方針）
4. **data/model.md** … データモデル（テーブル/エンティティ・インデックス・制約）
5. **ops/security-headers.md** … セキュリティ関連ヘッダや許可ドメインの方針

---

## 役割別ディレクトリ（索引・要約）
> 各フォルダには **README.md** を置き、詳細方針・更新ルール・目次を記載します。ここでは要約のみ示します。

- **product/**  
  プロダクトの目的・KPI・スコープ（MUST/SHOULD/…）・ロードマップ・用語集。

- **design/**  
  画面仕様・情報設計・コンポーネント構成・アクセシビリティ基準・ワイヤ/モック。

- **architecture/**  
  全体構成図（クライアント/サーバ/データ/外部サービス）・非機能要件・アーキテクチャ決定記録（ADR）。

- **api/**  
  エンドポイント定義・リクエスト/レスポンスのスキーマ（形式は任意：型定義/JSON Schema/OpenAPI等）・エラー規約・バージョニング方針。  
  `api/schemas/` は「契約の単一のソース」を置く場所。

- **data/**  
  データモデル（テーブル/コレクション/ERD）・命名/正規化ルール・保持/削除ポリシー・データパイプライン（収集/加工/公開）。

- **frontend/**  
  フロントエンドの設計方針：ルーティング、状態管理、スタイル指針、アクセシビリティ、パフォーマンス予算。

- **backend/**  
  バックエンドの設計方針：モジュール/サービス分割、API/ジョブ/スケジューラ、エラー/リトライ設計、構成管理。

- **quality/**  
  品質戦略：テストレベル（単体/結合/E2E）、重要シナリオ、受け入れ基準、パフォーマンス/セキュリティ検証の方針。

- **ops/**  
  手順と運用：開発環境セットアップ、CI/CD、デプロイ、環境変数・Secrets、監視、アラート、Runbook（障害対応/調査手順）、セキュリティヘッダ。

- **legal/**  
  権利表記・利用規約/プライバシーの方針草案・問い合わせ/削除依頼窓口テンプレ。

- **templates/**  
  ひな形一式（例：ADRテンプレ、要件テンプレ、API契約テンプレ、Issue/PRテンプレ）。

- **dev/**  
  開発時の運用手順・モック運用・ローカル環境向けのTIPS

---

## 運用ルール（ガイドライン）
- **1トピック＝1ページ（5分で読める長さ）** を目安に小さく保つ  
- 仕様や方針は各レイヤのフォルダへ、**具体的な手順は ops/** に集約  
- 非自明な選択は **ADR** として記録（変更時は新しいADRで置き換え）  
- 図や表は可能な限りテキスト/Markdownで管理（バイナリは最小限）  
- **コードの変更と同じPRで docs も更新**（乖離を防止）  
- 長期間更新されない長文は要約して統合/削除を検討

---

## 変更フロー（Contribution Workflow）
1. 対象フォルダの README で記載ルールを確認  
2. 新規/更新ページを追加（必要なら **templates/** を利用）  
3. リンクや索引を更新（本ファイルや各フォルダの README）  
4. PR では **目的・背景・決定** を簡潔に記述し、レビュー後にマージ

---

## 命名と配置
- ファイル名は **英小文字-kebab-case.md**（日時や連番はファイル名に含めない）  
- 画像は `docs/assets/` に配置し、相対パスで参照  
- 「契約やスキーマなど“真実のソース”」は **api/schemas/** 等に集約し、他文書はそれを参照

---

## ステータス
- ドキュメント方針: **Docs-as-Code / ADR採用**  
- 読み始めの導線: **product/requirements.md** → **design/ui-spec.md**

不明点や提案があれば Issue/PR へ。小さく速く、継続的に育てていきます。

